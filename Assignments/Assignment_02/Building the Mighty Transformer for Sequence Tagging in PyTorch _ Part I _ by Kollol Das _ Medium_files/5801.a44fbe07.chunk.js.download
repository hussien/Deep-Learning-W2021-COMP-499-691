(self.webpackChunklite=self.webpackChunklite||[]).push([[5801],{94132:(e,t,n)=>{"use strict";n.d(t,{T:()=>E});var r=n(59713),o=n.n(r),i=n(67294),a=n(60046),l=n(82418),c=n(97145),s=n(7530),u=n(64504),m=n(28309),d=n(67297),p=n(67122),g=n(27952);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.authDomain,n=e.productName;return i.createElement(s.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(s.xu,{paddingBottom:"8px"},i.createElement(s.rU,{href:(0,g.GMb)(t,n)},i.createElement(u.X6,{scale:"S"},"Share your thinking."))),i.createElement(u.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",i.createElement(s.rU,{href:(0,g.GMb)(t,n),inline:!0,linkStyle:"OBVIOUS"},"Write on ",n)))},E=function(e){var t=e.slimFooter,n=(0,d.v)((function(e){return e.config.authDomain})),r=(0,d.v)((function(e){return e.config.productName})),o=(0,m.Fg)(),f=h(h({},o),{},{baseColor:h(h({},o.baseColor),{},{background:{light:p.Uy(.76),normal:p.Uy(.84),dark:p.Uy(.9)},border:{lighter:p.l9(.1),light:p.l9(.2),normal:p.l9(.34),dark:p.l9(.54),darker:p.l9(.84)},fill:{lighter:p.l9(.7),light:p.l9(.8),normal:p.l9(.98),dark:p.l9(.99),darker:p.l9(1)},text:{lighter:p.l9(.7),light:p.l9(.8),normal:p.l9(.98),dark:p.l9(.99),darker:p.l9(1)}})});return i.createElement(s.f6,{theme:f},i.createElement(s.xu,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"32px 0"}},i.createElement(s.Pm,null,t?null:i.createElement(s.xu,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},i.createElement(s.xu,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},i.createElement(s.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(s.xu,{paddingBottom:"8px"},i.createElement(s.rU,{href:(0,g.jQk)({authDomain:n,autoplay:!0})},i.createElement(u.X6,{scale:"S"},"Learn more."))),i.createElement(u.F,{scale:"M"},r," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",i.createElement(s.rU,{href:(0,g.jQk)({authDomain:n,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),i.createElement(s.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(s.xu,{paddingBottom:"8px"},i.createElement(s.rU,{href:(0,g.a4F)(n)},i.createElement(u.X6,{scale:"S"},"Make ",r," yours."))),i.createElement(u.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",i.createElement(s.rU,{href:(0,g.a4F)(n),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),i.createElement(y,{authDomain:n,productName:r}))),i.createElement(s.xu,{display:"flex",flexDirection:"column"},i.createElement(s.xu,{alignItems:"center",display:"flex",justifyContent:"space-between"},i.createElement(s.rU,{href:"https://".concat(n,"/"),ariaLabel:"Go to homepage"},i.createElement(a.Rv,{fill:p.ix})),i.createElement(s.xu,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},i.createElement(u.F,{color:"DARKER",scale:"L"},i.createElement(s.rU,{href:(0,g.jQk)({authDomain:n}),inline:!0},"About")),i.createElement(u.F,{color:"DARKER",scale:"L"},i.createElement(s.rU,{href:(0,g.XpN)(),inline:!0},"Help")),i.createElement(u.F,{color:"DARKER",scale:"L"},i.createElement(s.rU,{href:(0,g.xBX)(),inline:!0},"Legal")))),i.createElement(i.Fragment,null,i.createElement(s.xu,{display:"none",sm:{display:"flex",marginBottom:"16px",marginTop:"30px"}},i.createElement(u.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),i.createElement(s.xu,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},i.createElement(s.xu,{marginRight:"16px"},i.createElement(c.E,{entryPoint:"postPageFooter"})),i.createElement(s.xu,null,i.createElement(l.H,{entryPoint:"postPageFooter"}))))))))}},85714:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>m,v:()=>d,QX:()=>p});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),c=n(85277);function s(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return s=function(){return e},e}function u(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}const m=(0,l.$j)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return a.useEffect((function(){n&&n.isSuspended?t((0,c.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"USER_SUSPENDED"})):r&&r.isSuspended&&t((0,c.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==r?void 0:r.id)||""}}))}),[]),null}));var d=(0,i.Ps)(u()),p=(0,i.Ps)(s())},2874:(e,t,n)=>{"use strict";n.d(t,{d:()=>A,_:()=>k});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(60046),c=n(62872),s=n(43689),u=n(51562),m=n(47578),d=n(71542),p=n(86280),g=n(62181),f=n(8558),h=n(98281),y=n(22091),E=n(64504),v=n(62630),b=n(27572),x=n(67297),S=n(96879),w=n(27952);function P(){var e=o()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    ...userUrl_user\n  }\n  ","\n"]);return P=function(){return e},e}var O="entity-driven-sub-landing-page",I=function(){return a.createElement(c.l,{borderColor:"rgb(230 230 230)",height:s.Je,heightSm:s.R2},a.createElement(y.Pm,null,a.createElement(y.xu,{display:"flex",alignItems:"center",height:"".concat(s.Je,"px"),sm:{height:"".concat(s.R2,"px")},flexDirection:"row"},a.createElement(y.xu,{justifySelf:"flex-start",flexGrow:"1"},a.createElement(l.Rv,{size:"S"})),a.createElement(_,null))))},_=function(){return(0,p.YC)().value?null:a.createElement(y.xu,{justifySelf:"flex-end"},a.createElement(E.F,{scale:"L"},a.createElement(y.xu,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},a.createElement(y.xu,{paddingRight:"4px"},"Already a member?"),a.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},A=function(e){var t,n,r=e.user,o=(0,x.v)((function(e){return e.config.authDomain})),i=(0,p.YC)().value,l=(0,v.Av)(),c=a.useCallback((function(){l.event("entityDrivenSubCallToAction.clicked",{userId:null==i?void 0:i.id,entityId:null==r?void 0:r.id})}),[r,null==i?void 0:i.id,o]);if(!r)return null;var s=null!==(t=r.name)&&void 0!==t?t:"",g=null!==(n=r.imageId)&&void 0!==n?n:h.Ei,P=r.id,_=(0,w.Qyn)(r.username,o),A=(0,S.Rk)((0,w.c5p)(o),{subscribeToUserId:P}),k=null!=i&&i.mediumMemberAt?_:A;return(0,m.KQ)({},s),a.createElement(b.cW,{source:{name:"entity_driven_subscription",userId:P}},a.createElement(y.xu,{display:"flex",height:"100vh",flexDirection:"column"},a.createElement(I,null),a.createElement(y.xu,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},a.createElement(y.Pm,{size:"inset"},a.createElement(y.xu,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(d.s,null,a.createElement(f.zN,{miroId:g,alt:s||"",diameter:128,freezeGifs:!1})),a.createElement(d.e,null,a.createElement(f.zN,{miroId:g,alt:s||"",diameter:80,freezeGifs:!1}))),a.createElement(y.xu,{paddingBottom:"20px"},a.createElement(E.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},a.createElement(u.W,{featureString:O,target:"title-copy"},"Read every story from ",s," (and thousands of other writers on Medium)."))),a.createElement(y.xu,{paddingBottom:"20px"},a.createElement(E.F,{scale:"L",color:"DARKER"},a.createElement(u.W,{featureString:O,target:"description-copy"},"As a Medium member, a portion of your membership fee goes to the writers you read, and you get full access to every story on Medium."))),a.createElement(y.xu,{paddingBottom:"20px"},a.createElement(y.zx,{onClick:c,href:k,buttonStyle:"STRONG",size:"LARGE"},a.createElement(u.W,{featureString:O,target:"logged-in-button-copy"},"Become a member"))),a.createElement(E.F,{scale:"L",color:"DARKER",tag:"span"},a.createElement(y.rU,{linkStyle:"SUBTLE",href:(0,w.AWr)(r,o)},a.createElement(u.W,{featureString:O,target:"link-copy"},"Visit ",s,"'s profile")))))))},k=(0,i.Ps)(P(),w.$mN)},35801:(e,t,n)=>{"use strict";n.d(t,{gc:()=>sr,De:()=>mr,m6:()=>dr});var r=n(28655),o=n.n(r),i=n(67154),a=n.n(i),l=n(59713),c=n.n(l),s=n(63038),u=n.n(s),m=n(71439),d=n(67294),p=n(12291),g=n(28859),f=n(68254),h=n.n(f);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=(0,p.$j)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r=n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{},o={triggers:E(E({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}}),r)},i={__html:'<script type="application/json">'.concat(h()(o,{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:i})}));var b=n(85549),x=n(638),S=n(45113),w=n(9972),P=n(2955),O=n(94132),I=n(26463),_=n(62872),A=n(7530),k=n(67122),D=function(e){var t=e.children;return d.createElement(d.Fragment,null,d.createElement(A.xu,{marginTop:"-240px",background:"linear-gradient(".concat((0,k.l9)(0),",\n        ").concat((0,k.l9)(.5),",\n        ").concat((0,k.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),d.createElement(A.xu,{backgroundColor:"BACKGROUND"},d.createElement(A.xu,{margin:"auto",maxWidth:"760px",sm:{margin:"0 18px 0"}},t)))},C=n(51562),j=n(32149),U=n(71542),B=n(86280),R=n(324),T=n(62181),L=n(8558),M=n(98281),N=n(64504),F=n(98024),W=n(62630),H=n(27572),G=n(2874),V=n(85277),z=n(67297),Y=n(96879),$=n(27952);function K(){var e=o()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return K=function(){return e},e}var q="entity-driven-sub-member-only-wall",X=function(e){return(0,B.YC)().value?null:d.createElement(A.xu,{display:"flex",justifyContent:"center"},d.createElement(F.F,{scale:"L"},d.createElement(A.xu,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},d.createElement(A.xu,{paddingRight:"4px"},"Already a member?"),d.createElement(T.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_member_only_wall",post:e},"Sign in"))))},Z=function(e){var t,n,r,o=e.post,i=(0,V.w)(),a=(0,W.Av)(),l=(0,z.v)((function(e){return e.config.authDomain})),c=(0,z.v)((function(e){return e.config.productName})),s=(0,B.YC)().value,u=null==o?void 0:o.creator,m=null==u?void 0:u.isAllowEdsEnabled,p=null!==(t=null==s?void 0:s.mediumMemberAt)&&void 0!==t&&t,g=null!==(n=null==u?void 0:u.viewerIsUser)&&void 0!==n&&n,f=(null==u?void 0:u.id)||"",h=null==u?void 0:u.name,y=(0,$.o2w)(l,null==o?void 0:o.id),E=null!==(r=null==u?void 0:u.imageId)&&void 0!==r?r:M.Ei,v=g&&m&&p,b=d.useCallback((function(){a.event("entityDrivenSubCallToAction.clicked",{userId:null==s?void 0:s.id,entityId:f}),v&&i({message:"You're already a ".concat(c," member."),toastStyle:"MESSAGE"})}),[u,s,l]);d.useEffect((function(){m&&a.event("experiment.eligible",{experimentId:"f8d6562b429a"})}),[m]);var x=(0,Y.Rk)((0,$.c5p)(l),{subscribeToUserId:f}),S=null!=s&&s.mediumMemberAt?y:x;return d.createElement(R.N8,null,d.createElement(D,null,d.createElement(H.cW,{source:{name:"entity_driven_subscription_member_only_wall",postId:o.id,susiEntry:"entity_driven_subscription_member_only_wall"}},d.createElement(A.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},d.createElement(A.xu,{display:"flex",flexDirection:"column",padding:"20px 0",sm:{padding:"28px 16px 32px",textAlign:"center"}},d.createElement(A.Pm,null,d.createElement(A.xu,{display:"flex",paddingBottom:"32px",justifyContent:"center"},d.createElement(U.s,null,d.createElement(L.zN,{miroId:E,alt:h||"",diameter:80,freezeGifs:!1})),d.createElement(U.e,null,d.createElement(L.zN,{miroId:E,alt:h||"",diameter:80,freezeGifs:!1}))),d.createElement(A.xu,{paddingBottom:"20px"},d.createElement(N.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},d.createElement(C.W,{featureString:q,target:"title-copy"},s?"".concat(s.name,", read more from ").concat(h," — and everything else on Medium."):"Read more from ".concat(h," — and everything else on Medium.")))),d.createElement(A.xu,{paddingBottom:"20px"},d.createElement(F.F,{scale:"L",color:"DARKER"},d.createElement(C.W,{featureString:q,target:"description-copy"},h," has made this story exclusive to members. Upgrade to keep reading."))),d.createElement(A.xu,{paddingBottom:"20px"},d.createElement(A.zx,{onClick:b,buttonStyle:"STRONG",href:S},"Become a member")),d.createElement(X,{post:o})))))))},Q=((0,m.Ps)(K(),j.G,G._),n(85740)),J=n(80439),ee=n(90738),te=n(14414),ne=n(11348);function re(){var e=o()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return re=function(){return e},e}var oe=(0,m.Ps)(re()),ie=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,o=e.token,i=e.userId,a=(0,W.Av)(),l=!!(0,Q.P5)("skip_sign_in_recaptcha"),c=d.useState(!1),s=u()(c,2),m=s[0],p=s[1],g=(0,z.v)((function(e){return e.navigation.currentLocation})),f=function(){p(!1)},h=(0,H.pK)(),y=(0,H.hp)(),E=t&&o?(0,te.hQ)(g,h,y,t,o):(0,te.hQ)(g,h,y),v=(0,B.rZ)(),b=v.loading,x=v.error,S=v.viewerId;return b||x?null:d.createElement(J.mm,{mutation:oe,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":a.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":a.event("site.loginByEmailCaptchaFailure",{}),p(!1);break;case"BadRequest":case"NotFound":default:f()}},onError:f},(function(e){var t=function(t){(0,ne.Zs)(!0,S,i,"Email",!1);var n="medium";a.event("susi.methodClicked",{entryPoint:y,operation:"login",susiMethod:n.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:n.toLowerCase(),alternateUserSuggestionTargetUserId:i,alternateUserSuggestionSourceUserId:S}),e({variables:{userId:i,redirect:E,captchaValue:t}})};return d.createElement(d.Fragment,null,!l&&d.createElement(ee.k,{callback:t,shouldExecuteRecaptcha:m}),n({handleSubmit:function(){return l?t(null):p(!0)}}))}))},ae=n(90174),le=n(4134),ce=n(70146),se=n(37581),ue=function(e){var t=e.actionUrl,n=e.token,r=e.userSocialLogins,o={actionUrl:t||"",operation:"login",token:n||"",targetUserId:r.userId,alternateUserSuggestion:!0};return d.createElement(se.$,{eventData:{operation:o.operation}},r.google?d.createElement(le.x,o):r.facebook?d.createElement(ae.q,o):r.twitter?d.createElement(ce.G,o):d.createElement(d.Fragment,null))};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=(0,z.v)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),o=(0,H.hp)(),i=(0,p.I0)(),a=(0,B.YC)(),l=a.loading,s=a.error,u=a.value;if(l||s)return d.createElement(d.Fragment,null);var m=function(e){return e?d.createElement(A.rU,{onClick:function(){return g("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):d.createElement(d.Fragment,null,"Not you?"," ",d.createElement(A.rU,{onClick:function(){return g("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",d.createElement(A.rU,{onClick:function(){return g("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},g=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),i((0,V.Pc)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!o&&{susiEntry:o})))};return r?m(u):u?d.createElement(A.rU,{onClick:function(){return t()}},"Not me"):m(n)},pe=n(51512);function ge(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function fe(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}var he=n(8403);function ye(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return ye=function(){return e},e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t=e.children,n=e.postRenderCallback,r=(0,W.Av)(),o=(0,H.hp)(),i=(0,he.PM)(),a=(0,pe.P7)(i||""),l=a.userId,c=a.name,s=d.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),m=u()(s,2),p=m[0],g=m[1];d.useEffect((function(){var e=p.shouldRun,t=p.showSuggestedAccount,r=p.userSocialLogins;e&&n(f,t,r)}),[p.shouldRun]);var f=(0,B.YC)().value,h=(0,B.rZ)(),y=h.loading,E=h.error,v=h.viewerId;if(y||E)return null;var b=!("email"!==c||f&&f.mediumMemberAt||!l);return b&&l?d.createElement(J.AE,{query:xe,variables:{userId:l}},(function(e){var i=e.loading,a=e.error,l=e.data,c=(l=void 0===l?{}:l).userSocialLogins,s=!(i||a||!c||f&&!c.isMember||!c.facebook&&!c.google&&!c.twitter&&!c.redactedEmailAddress),u=ve({loading:i,showSuggestedAccount:s},s&&{userSocialLogins:c,declineSuggestedAccount:function(){var e=fe(c);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==c?void 0:c.userId,alternateUserSuggestionSourceUserId:v})}});return!n||i||p.shouldRun||g({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:c}),t(u)})):(n&&!p.shouldRun&&g(ve(ve({},p),{},{shouldRun:!0})),t({showSuggestedAccount:b,loading:!1}))},xe=(0,m.Ps)(ye()),Se=n(62876),we=n(96907);function Pe(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return Pe=function(){return e},e}var Oe=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer,o=e.showTrialPaywall,i=e.authDomain,a=!!(0,Q.P5)("enable_lite_pay_page"),l=!!(0,Q.P5)("enable_new_checkout_flow");return d.createElement(H.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},d.createElement(we.M,null,d.createElement(A.xu,{display:"inline-block",textAlign:"center"},d.createElement(C.W,{featureString:t,target:o?"trial-upsell-button":"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},d.createElement(Se.a,{isButton:!0,buttonStyle:o?"BRAND":"STRONG",width:o||r&&r.hasPastMemberships?"182px":"104px",redirectUrl:a&&(o||l)?(0,$.c5p)(i):(0,$.KP0)(i)},o?"Start your free trial":r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},Ie=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=(0,p.I0)();return d.createElement(H.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},d.createElement(A.xu,{display:"flex",sm:{flexDirection:"column"}},d.createElement(A.xu,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?d.createElement(ue,{userSocialLogins:n}):d.createElement(ie,{onSuccess:function(){return r((0,V.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return d.createElement(A.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&d.createElement(A.xu,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},d.createElement(F.F,{scale:"M"},d.createElement(de,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},_e=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return d.createElement(H.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},d.createElement(we.M,{eventData:r},d.createElement(A.xu,{display:"inline-block",textAlign:"center"},d.createElement(Ie,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),d.createElement(A.xu,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},d.createElement(F.F,{scale:"L"},d.createElement(Se.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},Ae=function(e){var t=e.post,n=(0,z.v)((function(e){return e.config.authDomain})),r=(0,z.v)((function(e){return e.config.productName})),o=(0,B.YC)().value,i=(0,B.rZ)().viewerId,a=(0,W.Av)(),l=null==o?void 0:o.isMembershipTrialEligible,c=!(!(0,Q.P5)("enable_trial_upsell")||!l),s=!!(0,Q.P5)("optimizely_holdback");d.useEffect((function(){l&&a.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var u="paywall";return d.createElement(R.N8,null,d.createElement(D,null,d.createElement(be,{postRenderCallback:function(){}},(function(e){var a,l=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,g=e.userSocialLogins;return l?d.createElement(d.Fragment,null):(m&&(u="suggested-account-paywall"),m&&(a={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:fe(g),alternateUserSuggestionTargetUserId:!!g&&g.userId,alternateUserSuggestionSourceUserId:i}),d.createElement(d.Fragment,null,d.createElement(C.W,{featureString:u,target:c?"trial-background-color":"background-color"},d.createElement(A.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},d.createElement(A.xu,{display:"flex",flexDirection:"column",padding:"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},d.createElement(C.W,{featureString:u,target:c?"webCCTrialHeading":"fewerClicksHeading"},d.createElement(N.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,t,n,r){var o=r.showSuggestedAccount,i=r.showTrialPaywall,a=r.inHoldback,l=t?ge(t):null;return l=l&&l.length<=13?l:null,o?"Switch to your member account for unlimited reading.":i?d.createElement(A.xu,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},l?"".concat(l,", keep reading."):"Keep reading."):d.createElement(A.xu,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},a?"How to read this story — and everything else on ".concat(e,"."):l?n?"".concat(l,", read more from ").concat(n," — and everyone else on ").concat(e,"."):"".concat(l,", here's how to read this story — and everything else on ").concat(e,"."):n?"How to read this story from ".concat(n," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(r,o&&o.name,t.creator&&t.creator.name,{showSuggestedAccount:m,showTrialPaywall:c,inHoldback:s}))),d.createElement(F.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&!c&&d.createElement(d.Fragment,null,d.createElement(C.W,{featureString:u,target:"second-header-fewer-clicks"},d.createElement(A.xu,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),d.createElement(A.xu,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},d.createElement(Oe,{optimizelyFeatureString:u,post:t,viewer:o,showTrialPaywall:c,authDomain:n}))),d.createElement(C.W,{featureString:u,target:c?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},d.createElement(A.xu,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,t,n,r){var o=n.showTrialPaywall;if(n.showSuggestedAccount&&t){var i=t.isMember,a=t.redactedEmailAddress;return d.createElement(d.Fragment,null,"Looks like you're coming from the ",i&&"member ","account"," ",d.createElement("b",null,a)," but you’re signed in as ",d.createElement("b",null,null==r?void 0:r.email),". Switch to your",i?" member account for unlimited access":" account",".")}return d.createElement(A.xu,{marginTop:"28px",marginBottom:"28px",textAlign:o?"center":"left"},o?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):d.createElement(d.Fragment,null,d.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",d.createElement("br",null),d.createElement("br",null),d.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(r,g,{showSuggestedAccount:m,showTrialPaywall:c},o)))),!!m&&g&&d.createElement(_e,{declineSuggestedAccount:p,userSocialLogins:g,suggestedAccountEventData:a,showSuggestedAccount:m,postId:t.id}),c&&!m&&d.createElement(Oe,{optimizelyFeatureString:u,post:t,viewer:o,showTrialPaywall:c,authDomain:n}))))))}))))},ke=(0,m.Ps)(Pe()),De=n(6401),Ce=n(5731),je=n(59317),Ue=n(81405);function Be(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return Be=function(){return e},e}function Re(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return Re=function(){return e},e}var Te="post_regwall",Le=function(e){var t=e.enablePasswords,n=e.meterCount,r=e.optimizelyFeatureString,o=e.postId,i={operation:"register"},a=(0,je.j)().openModal,l=function(e){var n=e.children;return t?d.createElement(C.W,{featureString:r,target:"google-button"},n):n};return d.createElement(A.xu,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},d.createElement(C.W,{featureString:r,target:"google-button"},d.createElement(A.xu,{margin:"".concat(t?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},d.createElement(se.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},d.createElement(le.x,i)))),d.createElement(l,null,d.createElement(A.xu,{marginBottom:t?"32px":"52px",sm:{marginBottom:"40px"}},d.createElement(se.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},t?d.createElement(Ue.R,{goToEmailAuthStep:function(){a({step:"ENTER_EMAIL",susiEntry:Te,operation:"register"})},operation:"register"}):d.createElement(ae.q,i)))))},Me=function(e){var t=e.meteringInfo,n=e.post,r=(0,W.Av)(),o=!!(0,Q.P5)("enable_passwords"),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a="".concat(i?"syndicated-":"","regwall");return d.useEffect((function(){r.event("meter.viewed",{meterCount:null==t?void 0:t.postIds.length,postId:n.id,uiType:i?Ce.j.SyndicatedRegwall:Ce.j.RegWall})}),[]),d.createElement(R.N8,null,d.createElement(H.cW,{source:{postId:n.id,susiEntry:Te}},d.createElement(D,null,d.createElement(C.W,{featureString:a,target:"background-color"},d.createElement(A.xu,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},d.createElement(A.xu,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},d.createElement(C.W,{featureString:a,target:"heading"},d.createElement(N.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},d.createElement(A.xu,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),d.createElement(A.xu,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),d.createElement(N.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},d.createElement(A.xu,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),d.createElement(A.xu,{display:"none",sm:{display:"block"}},d.createElement(A.xu,{margin:"".concat(o?"40px":"42px"," 0")},d.createElement(De.a,{isButton:!0,postId:n.id,appEntry:"regwall"})),d.createElement(C.W,{featureString:a,target:"skip-app-copy"},d.createElement(A.xu,{marginBottom:"-20px"},"Or, continue in mobile web"))),d.createElement(Le,{meterCount:null==t?void 0:t.postIds.length,optimizelyFeatureString:a,postId:n.id,enablePasswords:o}),d.createElement(C.W,{featureString:a,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),d.createElement(C.W,{featureString:a,target:"sign-in-link",tag:"span"},d.createElement(T.R9,{linkStyle:"OBVIOUS",operation:"login",post:n,susiEntry:Te},"Sign in")))))))))},Ne=(0,m.Ps)(Re(),T.qU),Fe=(0,m.Ps)(Be()),We=n(46829);function He(){var e=o()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return He=function(){return e},e}function Ge(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return Ge=function(){return e},e}var Ve=(0,m.Ps)(Ge()),ze=(0,m.Ps)(He()),Ye=n(47578),$e=n(42963);function Ke(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return Ke=function(){return e},e}var qe=(0,m.Ps)(Ke()),Xe=(0,p.$j)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return d.createElement(B.Q_,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?d.createElement($e.Z,{to:(0,$.d0A)(t,n.id)}):r}))})),Ze=n(66371),Qe=n(55253),Je=n(70405),et=n(319),tt=n.n(et),nt=n(82492),rt=n.n(nt),ot=n(90038),it=n(22744);function at(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return at=function(){return e},e}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),i=o/r,a=Math.floor(n*i);return ut({width:a,height:o,url:(0,ot.W6)({miroId:t,width:a,freezeGifs:!0,strategy:ot._S.Resample})})}function ut(e){return ct({"@type":"ImageObject"},e)}function mt(e,t){return"".concat(e,":").concat(t)}const dt=(0,p.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,a=e.defaultImages,l=e.collectionStructuredData,c=r.collection,s=r.creator,u=r.id,m=r.mediumUrl,p=r.isLocked,g=r.previewImage,f=r.firstPublishedAt,y=r.updatedAt,E=r.tags,v=r.sequence,b=r.lockedSource,x=r.layerCake,S=r.structuredData,w=(0,it._t)(r,i),P={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},O={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},I=c?{"@type":"Organization",name:c.name,url:c.domain||(0,Y.l1)(n,(0,$.WGd)(c,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return st(O);var t=st(e.logo);return t&&60===t.height&&t.width<=600?t:st(O)}(c)}:{"@type":"Organization",name:i,url:(0,Y.l1)(n,"/"),logo:st(O)};c&&l&&l[c.id]&&rt()(I,l[c.id].data);var _=[mt("Lite","true")];E&&E.forEach((function(e){e.displayTitle&&_.push(mt("Tag",e.displayTitle))})),c&&c.slug&&_.push(mt("Publication",c.slug)),_.push(mt("Elevated",(!!v).toString())),v&&v.slug&&_.push(mt("Sequence",v.slug)),b&&_.push(mt("LockedPostSource",b)),null!=x&&_.push(mt("LayerCake",x.toString()));var A=o||"",k=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},D={"@context":"http://schema.org"},C=ct({"@type":"NewsArticle",image:g&&g.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,i=e.focusPercentY;if(!t)return null;var a=1200,l=(0,ot.vz)({miroId:t,aspectRatio:16/9,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),c=(0,ot.vz)({miroId:t,aspectRatio:4/3,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),s=(0,ot.vz)({miroId:t,aspectRatio:1,croppedWidth:a,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),u=new Set([l,c,s]);return Array.from(u)}(g):ut({url:(0,ot.W6)({miroId:P.id,width:P.originalWidth}),height:P.originalHeight,width:P.originalWidth}),url:m,dateCreated:f&&new Date(f).toISOString(),datePublished:f&&new Date(f).toISOString(),dateModified:y&&new Date(y).toISOString(),headline:w,name:w,description:A,identifier:u,keywords:_.length?_:null,author:s&&s.name&&s.username?{"@type":"Person",name:s.name||s.username,url:(0,$.AWr)(s,n)}:null,creator:s&&[s.name],publisher:I,mainEntityOfPage:m},k),j=ct(ct({},D),C);if(S&&S.length>0)try{var U=JSON.parse(S);if(U&&null!=U&&U["@graph"]&&(null==U?void 0:U["@graph"].length)>0){var B=((null==U?void 0:U["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));B&&B.length>0&&(j=ct(ct({},D),{},{"@graph":[C].concat(tt()(B))}))}}catch(e){}return d.createElement(Je.q,null,d.createElement("script",{type:"application/ld+json"},h()(j,{isJSON:!0})))}));var pt=(0,m.Ps)(at(),it.bq,$.$mN),gt=n(27390),ft=n(71794);function ht(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ht=function(){return e},e}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vt=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.authDomain,a=e.productName,l=e.post,c=l.canonicalUrl,s=l.collection,u=l.creator,m=l.id,p=l.latestPublishedAt,g=l.mediumUrl,f=l.previewContent,h=l.socialTitle,y=l.socialDek,E=l.visibility,v=l.isShortform,b=s&&s.ampEnabled,x=u&&u.name,S=(0,it.yB)(l),w=l.title||"",P=S.latestTitle||w;if(v){var O=Et(Et({},l),{},{title:P});t=(0,it.oS)(O,a,S.hasTitleGraf).trim(),n=(0,ft.OO)(l,S.hasTitleGraf)}else t=(0,it._t)(l,a,S,!0).trim(),n=(0,ft.j7)(l);var I,_,A=y||f&&f.subtitle||n;if(l&&l.previewImage&&l.previewImage.id&&!l.isLimitedState){var k=l.previewImage;I=(0,ot.vz)({miroId:k.id,aspectRatio:1.9,croppedWidth:k.originalWidth?Math.min(k.originalWidth,1200):1200,originalWidth:k.originalWidth,originalHeight:k.originalHeight,focusPercentX:k.focusPercentX,focusPercentY:k.focusPercentY})}else if(l.isLimitedState){var D={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};I=(0,ot.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY})}u&&u.username&&(_=(0,$.AWr)(u,i));var C=(0,$.CK_)(m),j=(0,Q.P5)("deindex_from_external_search_threshold"),U=!(0,it.c_)(l,j),B=p&&new Date(p).toISOString(),R=(0,gt.Vd)(l.readingTime||0),T=u&&u.twitterScreenName,L=s&&s.twitterUsername||"Medium",M=s&&s.facebookPageId,N=h||w||P;l.isLimitedState&&(N="");var F=l.isLimitedState?"":A,W=d.useMemo((function(){var e;return d.createElement(Je.q,{htmlAttributes:r?{amp:void 0}:{}},d.createElement("meta",{property:"og:type",content:"article"}),B&&d.createElement("meta",{property:"article:published_time",content:B}),b&&!r?d.createElement("link",{rel:"amphtml",href:(0,$.VcI)(o,m)}):null,d.createElement("title",null,t),d.createElement("meta",{name:"title",content:t}),d.createElement("meta",{property:"og:title",content:N}),d.createElement("meta",{property:"twitter:title",content:N}),M&&d.createElement("meta",{property:"fb:pages",content:M}),d.createElement("meta",{name:"twitter:site",content:"@".concat(L)}),d.createElement("meta",{name:"twitter:app:url:iphone",content:C}),d.createElement("meta",{property:"al:android:url",content:C}),d.createElement("meta",{property:"al:ios:url",content:C}),d.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&d.createElement("meta",{name:"description",content:n}),A&&d.createElement("meta",{property:"og:description",content:F}),A&&d.createElement("meta",{property:"twitter:description",content:F}),d.createElement("meta",{property:"og:url",content:null!=g?g:void 0}),d.createElement("meta",{property:"al:web:url",content:null!=g?g:void 0}),I&&d.createElement("meta",{property:"og:image",content:I}),I&&d.createElement("meta",{name:"twitter:image:src",content:I}),d.createElement("meta",{name:"twitter:card",content:I?"summary_large_image":"summary"}),_&&d.createElement("meta",{property:"article:author",content:_}),_&&d.createElement("link",{rel:"author",href:_}),T&&d.createElement("meta",{name:"twitter:creator",content:"@".concat(T)}),x&&d.createElement("meta",{name:"author",content:x}),d.createElement("link",{rel:"canonical",href:null!==(e=c||g)&&void 0!==e?e:void 0}),d.createElement("link",{rel:"alternate",href:(0,$.zix)((0,$.o2w)("medium.com",l.id))}),d.createElement("meta",{name:"robots",content:"".concat(U?"noindex":"index",",follow,max-image-preview:large")}),d.createElement("meta",{name:"referrer",content:"UNLISTED"!==E?"unsafe-url":"origin"}),r?null:d.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:d.createElement("meta",{name:"twitter:data1",content:"".concat(R," min read")}),d.createElement("meta",{name:"parsely-post-id",content:m}))}),[r,t,c,g,I,b,m,h,n,_,x,T,C,U,B]);return d.createElement(d.Fragment,null,W,d.createElement(dt,{post:l,postDescription:n}))}));var bt=(0,m.Ps)(ht(),pt,ft.iI,ft.m3,it.HF,it.Pz,it.dm,it.bq,$.$mN),xt=n(51607),St=n(72955),wt=n(14391),Pt=n(76579);function Ot(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    creatorPartnerProgramEnrollmentStatus\n  }\n"]);return Ot=function(){return e},e}function It(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return It=function(){return e},e}function _t(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n    creatorPartnerProgramEnrollmentStatus\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n  }\n  ","\n"]);return _t=function(){return e},e}var At=function(){return d.createElement(A.xu,null,d.createElement(A.rU,{inline:!0,linkStyle:"OBVIOUS",href:(0,$.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var kt=(0,m.Ps)(_t(),xt.M),Dt=(0,m.Ps)(It(),kt),Ct=function(e){var t=e.url,n=e.label;return d.createElement(Pt.b,{url:t},(function(e){return d.createElement(A.xu,{marginBottom:"8px"},d.createElement(A.zx,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},d.createElement(A.xu,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},jt=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return d.createElement(A.xu,{display:"flex",flexDirection:"column",alignItems:"center"},d.createElement(N.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),d.createElement(A.xu,{marginTop:"20px"},!n&&d.createElement(d.Fragment,null,d.createElement(A.xu,{marginBottom:"8px"},d.createElement(xt.T,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),d.createElement(A.xu,{marginBottom:"8px"},d.createElement(xt.T,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),d.createElement(A.xu,{marginBottom:"8px"},d.createElement(xt.T,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),d.createElement(Ct,{url:r,label:"Copy story link"})))},Ut=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,i=o.id,a=o.visibility,l=o.curationEligibleAt,c=o.mediumUrl,s=o.shareKey,u=o.creatorPartnerProgramEnrollmentStatus,m=o.isNewsletter,p=o.isPublishToEmail,g=o.isMarkedPaywallOnly,f=o.creator,h="UNLISTED"===a,y=!!l,E=u===wt.iR.ENROLLED,v=(0,z.v)((function(e){return e.config.productName})),b="Your story is published!";return p&&t===(null==f?void 0:f.id)?b="Your story has been published and sent!":m&&(b="Your newsletter is on its way!"),d.createElement(A.Vq,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},d.createElement(A.xu,{background:k.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,k.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},d.createElement(A.xu,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},d.createElement(A.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},d.createElement(N.F1,{scale:"L",tag:"h3"},b),d.createElement(A.xu,{maxWidth:"520px",marginTop:"20px"},d.createElement(N.F,{color:"DARKER",scale:"L"},function(e,t,n,r,o,i){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):d.createElement(d.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",d.createElement(A.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,i):e?"Your unlisted story will not appear publicly on ".concat(i,", but you can still share it."):o?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?d.createElement(d.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",i,"’s metered paywall.",d.createElement(At,null)):d.createElement(d.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",i,"’s metered paywall.",d.createElement(At,null)):d.createElement(d.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",i," Partner Program."," ",d.createElement(A.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,y,E,m,null!=g&&g,v))),d.createElement(A.xu,{paddingTop:"20px"},y&&!h&&c&&s&&d.createElement(Ct,{url:(0,Y.Rk)((0,$.jVf)(o),{sk:s}),label:"Copy Friend Link"})),d.createElement(A.xu,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&c&&d.createElement(jt,{post:o,isUnlisted:h,postPath:(0,$.jVf)(o)})),d.createElement(A.PZ,{onClick:r,size:"LARGE"})))},Bt=function(e){var t=e.post,n=d.useState(!1),r=u()(n,2),o=r[0],i=r[1];return o?d.createElement(B.Q_,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?d.createElement(J.AE,{ssr:!1,query:Dt,variables:{postId:t.id}},(function(t){var r=t.loading,o=t.data,i=(o=void 0===o?{}:o).post;if(r||!i||i.inResponseToPostResult)return null;var a={isVisible:e.isVisible,hide:e.hide,post:i,viewerId:n.id};return d.createElement(Ut,a)})):null})):(St.V6.on("load",(function(){return i(!0)})),null)},Rt=(0,m.Ps)(Ot()),Tt=n(49925),Lt=n(10103),Mt=n(59877);function Nt(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Nt=function(){return e},e}var Ft=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,o=(0,Tt.GT)(r),i=n.customStyleSheet;return o?d.createElement(Lt.G8,{customStyleSheet:i,publisher:r},t):d.createElement(Lt.G8,{customStyleSheet:null,publisher:r},d.createElement(Mt.r,null,t))},Wt=(0,m.Ps)(Nt(),Lt.Kc,Lt.Ps,Tt.C5),Ht=n(62182),Gt=n(11505),Vt=n(50493),zt=n(25415),Yt=n(76679),$t=n(69677),Kt=n(72846),qt=n(91442),Xt=n(11642);function Zt(){var e=o()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return Zt=function(){return e},e}function Qt(){var e=o()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return Qt=function(){return e},e}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var nn=(0,m.Ps)(Qt()),rn=(0,m.Ps)(Zt()),on=n(31235);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(){var e=o()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return cn=function(){return e},e}function sn(){var e=o()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return sn=function(){return e},e}var un=(0,m.Ps)(sn(),Yt.iF,qt.iB,rn,Kt.Pk,Kt.v),mn=(0,m.Ps)(cn(),Yt.UW,qt.g8,Kt.XV,Kt.w6,nn);const dn=d.forwardRef((function(e,t){var n=e.activeGrafId,r=e.activeNoteId,o=e.isAuroraPostPageEnabled,i=e.post,l=e.postBodyInserts,c=(0,on.xg)(),s=i.content,u=i.latestPublishedVersion;if(!s)throw new Error("Expected post to have content.");var m={bodyModel:s.bodyModel,creator:i.creator,isAuroraPostPageEnabled:o,postBodyInserts:l,ref:t,richTextStyle:"FULL_PAGE"},p=i&&i.creator&&i.creator.allowNotes||!1;return s.isLockedPreviewOnly||c?d.createElement(Kt.ZP,m):d.createElement(J.AE,{notifyOnNetworkStatusChange:!0,ssr:!1,query:mn,variables:{postId:i.id,showNotes:p}},(function(e){var t=e.data,o=(t=void 0===t?{}:t).post,l=s.bodyModel&&s.bodyModel.paragraphs,c=function(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(o.name,t);if(!o||!i)return null;var a=tn(o.text,r,n),l=tn(i.text,r,n);if(!a||!l)return null;if(a===l)return e;var c=i.text?i.text.indexOf(a):null;if("number"!=typeof c||c<0)return null;var s=c+a.length;return en(en({},e),{},{endOffset:s,startOffset:c})})).filter(Xt.b):e}(o&&o.highlights||[],l),p=o&&o.privateNotes||null;return d.createElement($t.yb,null,d.createElement(zt.KN,{initialActivePrivateNoteId:r,initialActiveGrafName:n},d.createElement(Yt.Ms,{interactivePost:ln(ln({},i),{},{latestPublishedVersion:u}),highlights:c},d.createElement(B.Q_,{nonBlocking:!0},(function(e){return d.createElement(qt.U7,{highlights:c,paragraphs:l,viewer:e},d.createElement(Kt.ZP,a()({},m,{highlights:c,privateNotes:p})))})))))}))}));var pn=n(9482),gn=n(90163),fn=n(50188),hn=n(47012),yn=n(55127),En=n(56365),vn=n(28309),bn=function(e){var t=e.children,n=e.rule,r=(0,vn.Iq)(),o=n?r(n):"";return o?d.createElement("div",{className:o},t):d.createElement(d.Fragment,null,t)},xn=n(85489),Sn=n(80471),wn=n(53976);function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var On=d.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),In=d.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),_n=d.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),An=d.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const kn=function(e){return d.createElement("svg",Pn({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),On,In,_n,An)};var Dn=(0,p.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide,o="limitedStateInterstitialDialogPopover";return d.createElement(A.Vq,{isVisible:n,hide:r,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},d.createElement(A.xu,{display:"flex",justifyContent:"center",paddingTop:"100px"},d.createElement(A.xu,{height:"550px",width:"900px",background:k.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,k.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},d.createElement(A.xu,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},d.createElement(A.xu,{paddingBottom:"24px"},d.createElement(kn,null)),d.createElement(A.xu,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},d.createElement(N.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),d.createElement(A.xu,{padding:"0 0 24px 0"},d.createElement(A.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,V.Dx)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),d.createElement(A.Bn,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return d.createElement(A.J2,{ariaId:o,isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return d.createElement(A.xu,{padding:"15px 20px",width:"400px"},d.createElement(N.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},d.createElement(A.xu,{paddingTop:"10px"},d.createElement(A.rU,{ariaControls:o,ariaExpanded:t?"true":"false",onClick:n},d.createElement("u",null,d.createElement(N.F,{scale:"S"},"Why am I seeing this?")))))})))),d.createElement(A.xu,{display:"flex",justifyContent:"center"},d.createElement(N.F,{scale:"M"},"View our"," ",d.createElement(A.rU,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",d.createElement(A.rU,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",d.createElement(A.rU,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))}));function Cn(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return Cn=function(){return e},e}var jn=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function Un(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,i=e.children,a=(0,vn.Iq)(),l=d.useState(!1),c=u()(l,2),s=c[0],m=c[1];return d.useEffect((function(){m(!0)}),[]),r&&(n&&n.id)!==o?d.createElement(A.Bn,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return d.createElement(d.Fragment,null,d.createElement("div",{className:a(jn(t))},i),s&&d.createElement(Dn,{isVisible:t,hide:n}))})):i}var Bn=(0,m.Ps)(Cn()),Rn=n(85714),Tn=function(e){var t=e.children,n=e.onClose,r=d.useRef(null),o=d.useContext(g.u6).updateWatchedBounds;return d.createElement(A.Bn,{initialVisibility:!0},(function(e){var i=e.isVisible,a=e.hide;return i&&d.createElement(A.xu,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},d.createElement(A.Pm,null,d.createElement(A.xu,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,d.createElement(A.PZ,{onClick:function(){n&&n(),o("byline",r,{type:"header"}),a()},isPositionAbsolute:!1,size:"REGULAR"}))))}))},Ln=n(81591),Mn=n(69332),Nn="alternate_user_top_banner",Fn=function(e){var t=e.userSocialLogins,n=(0,je.j)().openModal;return t.facebook||t.google||t.twitter?d.createElement(ue,{userSocialLogins:t}):d.createElement(ie,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:Nn})},userId:t.userId},(function(e){var t=e.handleSubmit;return d.createElement(A.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},Wn=function(){var e=(0,B.YC)().value,t=(0,B.rZ)().viewerId,n=(0,p.I0)(),r=(0,W.Av)(),o=d.useState(!1),i=u()(o,2),a=i[0],l=i[1],c=d.useState("loading"),s=u()(c,2),m=s[0],g=s[1];return d.useEffect((function(){n((0,Mn.e6)(!0)),l(!0)}),[]),d.useEffect((function(){"rendered"===m&&n((0,Ln.T)(!0)),"not_eligible"===m&&n((0,Mn.e6)(!1))}),[m]),d.createElement(H.cW,{source:{susiEntry:Nn}},d.createElement(be,{postRenderCallback:function(e,n,o){g(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:fe(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var o,i=n.showSuggestedAccount,l=n.declineSuggestedAccount,c=n.userSocialLogins;return a&&i&&l&&c?d.createElement(R.N8,null,d.createElement(Tn,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:fe(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},d.createElement(A.xu,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},d.createElement(A.xu,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=c.userAvatar)||void 0===o?void 0:o.imageId)&&d.createElement(A.xu,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},d.createElement(M.ZP,{scale:"S",user:c.userAvatar})),d.createElement(C.W,{featureString:"alternate-user-top-banner",target:"header"},d.createElement(N.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return d.createElement(d.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",d.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c)))),d.createElement(A.xu,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},d.createElement(Fn,{userSocialLogins:c}),d.createElement(A.xu,{margin:"0 12px",sm:{margin:"24px 0 0"}},d.createElement(de,{declineSuggestedAccount:l,isSocial:!!(c.facebook||c.google||c.twitter)})))))):d.createElement(d.Fragment,null)})))},Hn=n(87757),Gn=n.n(Hn),Vn=n(48926),zn=n.n(Vn),Yn=n(6522),$n="signin_confirmation_banner",Kn=function(){var e=(0,W.Av)(),t=(0,je.j)().openModal,n=d.useState(!1),r=u()(n,2),o=r[0],i=r[1],a=d.useState(!1),l=u()(a,2),c=l[0],s=l[1],m=d.useState(!0),p=u()(m,2),g=p[0],f=p[1],h=(0,B.YC)().value,y=(0,z.v)((function(e){return e.session.xsrf})),E=(0,he.PM)(),v=(0,pe.P7)(E||"").name;return d.useEffect((function(){return i(!0)}),[]),d.useEffect((function(){o&&h&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=zn()(Gn().mark((function e(){var t;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.vA)(null==h?void 0:h.id,y);case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,ne.oy)(h.id,y))}),[o]),d.useEffect((function(){c&&e.event("signInConfirmationBanner.viewed",{})}),[c]),!o||!h||!v||"login"!==v||!h.createdAt||Date.now()-h.createdAt<=5*Yn.uD||g?null:(c||s(!0),d.createElement(H.cW,{source:{susiEntry:$n},extendSource:!0},d.createElement(R.N8,null,d.createElement(Tn,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},d.createElement(A.xu,{display:"flex",alignItems:"center"},d.createElement(A.xu,{display:"none",marginRight:"20px",sm:{display:"flex"}},d.createElement(M.ZP,{scale:"S",user:h})),d.createElement(N.F,{color:"DARKER",scale:"M"},d.createElement(C.W,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",h.mediumMemberAt?"into your member account ":"in as ",d.createElement("b",null,h.email),"."," "),d.createElement(A.rU,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:$n})},linkStyle:"OBVIOUS"},"Not you?")))))))},qn=n(93874),Xn=n(22091),Zn=n(31517),Qn=n(172);function Jn(e){var t={__html:'<script type="application/json">'.concat(h()(e.json,{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}function er(){var e={__html:'<script type="application/json">'.concat(h()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var tr=n(30389),nr=n(27140),rr=n(65441);function or(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n      isCacheableContent\n    }\n    creator {\n      isFollowing\n      viewerIsUser\n      customStyleSheet {\n        id\n        ...PostSidebarWithBlogrolls_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserSubdomainFlow_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebarWithBlogrolls_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    readCreatorPostsCount\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...PostSidebarWithBlogrolls_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return or=function(){return e},e}function ir(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return ir=function(){return e},e}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr=function(){return null};function sr(e){var t,n,r,o,i,a,l,c,s=e.meteringInfo,m=e.post,f=m.id,h=m.isPublished,y=m.isLocked,E=m.isShortform,w=m.content,P=m.collection,I=m.canonicalUrl,_=m.isMarkedPaywallOnly,A=(0,p.I0)(),k=(0,W.Av)(),C=(0,he.PM)(),U=(0,wn.V)({name:"enable_blogrolls",placeholder:!1}),R=(0,z.v)((function(e){return e.config.authDomain})),T=(0,z.v)((function(e){return e.navigation.currentHash})),L=(0,z.v)((function(e){return e.config.isAmp})),M=(0,z.v)((function(e){return e.navigation.postPublishedType})),N=(0,z.v)((function(e){return e.navigation.referrer})),F=(0,tr.P)(),H=F.inAppBrowser,G=F.loading,Y=d.useState(!1),K=u()(Y,2),q=K[0],X=K[1],J=d.useState(m.readingList===wt.sx.READING_LIST_QUEUE||m.readingList===wt.sx.READING_LIST_ARCHIVE),ee=u()(J,2),te=ee[0],re=ee[1],oe=d.useRef(null),ie=(0,B.YC)().value;L&&(ie=void 0);var ae=!!ie,le=P||{},ce=le.id,se=le.slug,ue=le.googleAnalyticsId,me=w||{},de=me.isLockedPreviewOnly,fe=me.validatedShareKey,ye=me.isCacheableContent,Ee=ue?[ue]:null;(0,b.t)({ids:Ee,isAmp:L}),(0,St.Vj)(oe,m),(0,St.t2)(ae,oe,m),function(e){var t=(0,B.YC)().value,n=(0,We.useMutation)(ze,{variables:{postId:e.id}}),r=u()(n,2),o=r[0],i=r[1].called;d.useEffect((function(){e.isPublished||null==t||!t.id||i||o()}),[t])}(m);var ve=(0,Tt.GT)(P||m.creator),be=E&&ve,xe=(0,nr.D)(ve),Se=(0,pe.P7)(C||"").dimension,we=!("digest.reader"!==(void 0===Se?"":Se))&&!de&&ae&&!(null!==(t=m.creator)&&void 0!==t&&t.viewerIsUser)&&!(null!==(n=m.creator)&&void 0!==n&&n.isFollowing)&&(m.readCreatorPostsCount||0)>=3,Pe=d.useState(we),Oe=u()(Pe,2),Ie=Oe[0],_e=Oe[1];d.useEffect((function(){_e(we)}),[]);var ke=(0,Ze.Dj)(m,Ie),De=(0,B.rZ)(),Ce=De.loading,je=De.viewerId;d.useEffect((function(){if(!Ce&&je&&!G){if(h){ae||(m.isLocked?(0,ne.yB)():(0,ne.B8)());var e=(0,S.RD)({inAppBrowser:H,post:m,meteringInfo:s,referrer:N,referrerSource:C,viewer:ie,currentUserId:je});P&&P.domain&&(e.data.$canonical_url=(0,$.o2w)(R,m.id));var t=ie&&ie.name?ge(ie.name):void 0;(0,Ye.KQ)({post:m},t),(0,S.Pu)(e),A((0,Qn.aj)(e)),A((0,Qn.QZ)()),k.event("post.clientViewed",{postId:f,collectionId:ce,collectionSlug:se,context:1,isFriendLink:!!fe})}else k.event("post.draftViewed",{postId:f});switch(ae||(0,fn.kD)(f),M){case"initial":X(!0),A((0,V.DJ)());break;case"repub":A((0,V.Dx)({duration:3e3,message:"Your changes have been published."})),A((0,V.DJ)())}return function(){A((0,Qn.Uo)())}}}),[f,h,Ce,je,G,H,ie]);var Ue=(0,he.Wd)("readmore");d.useEffect((function(){var e;if(Ue){var t=document.getElementById(rr.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[Ue]),xe!==ve&&A((0,Zn.t)(ve));var Be,Re,Te=(0,j.$)("entity_driven_subscription_milestone_2",null==m?void 0:m.creator),Le=de&&(ye?d.createElement(D,null):(_||y)&&Te?d.createElement(Z,{post:m}):ae?d.createElement(Ae,{post:m}):d.createElement(Me,{post:m,meteringInfo:s})),Ne=y?{className:"meteredContent"}:{};if(T){var Fe=T.split("-");Be=Fe[0],Re=Fe[1]}var He=P&&m.customStyleSheet&&null!=m&&null!==(r=m.creator)&&void 0!==r&&null!==(o=r.customStyleSheet)&&void 0!==o&&o.blogroll?lr(lr({},m.customStyleSheet),{},{blogroll:null==m||null===(i=m.creator)||void 0===i||null===(a=i.customStyleSheet)||void 0===a?void 0:a.blogroll}):m.customStyleSheet;return d.createElement(d.Fragment,null,d.createElement(x.u,null),d.createElement(Xe,{post:m},d.createElement(vt,{isAmp:L,post:m}),(null===(l=ie)||void 0===l?void 0:l.id)===(null===(c=m.creator)||void 0===c?void 0:c.id)?d.createElement(Rn.ZP,{post:m,user:m.creator}):d.createElement(Q.bZ,{name:"can_view_suspended_content",placeholder:cr},(function(e){return e?d.createElement(Rn.ZP,{post:m,user:m.creator}):null})),d.createElement(Ft,{post:m},d.createElement(En.f,{customStyleSheet:m.customStyleSheet},d.createElement(ur,{post:m}),d.createElement(Sn.k,{post:m},(function(e){var t,n,r=e.show;return d.createElement(bn,{rule:(n=m.customStyleSheet,(0,xn.fl)(null==n?void 0:n.postBody))},d.createElement(g.Am,null,d.createElement(pn.Q.Provider,{value:{isFirstLoadAndInReadingList:te,setIsFirstLoadAndInReadingList:re}},d.createElement(Wn,null),d.createElement(Kn,null),d.createElement("article",Ne,d.createElement(Qe.mV,{post:m,meteringInfo:s,showMixtape:!1}),d.createElement(Un,{post:m,viewerId:null===(t=ie)||void 0===t?void 0:t.id},d.createElement(dn,{activeGrafId:Be,activeNoteId:Re,isAuroraPostPageEnabled:ve,post:m,postBodyInserts:ke,ref:oe}))),!de&&!!h&&!be&&(U?d.createElement(Gt.HB,{customStyleSheet:He,showResponsesSidebar:r,post:m,extraWide:!0}):d.createElement(Ht.p3,{post:m,showResponsesSidebar:r})),Le,!de&&d.createElement(gn.ZP,{post:m,showResponsesSidebar:r,showMixtape:!0}))))})),d.createElement(Bt,{hide:function(){return X(!1)},isVisible:q,post:m}),!!h&&d.createElement(O.T,{slimFooter:ve}))),L&&d.createElement(d.Fragment,null,d.createElement(Jn,{json:{requests:{base:(0,$.vuB)(R),pageview:(0,$.CXS)(),scrollPing:(0,$.y4K)()},vars:{postId:f,collectionId:ce,canonicalUrl:I,referrer:N},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),d.createElement(v,{collectionGoogleAnalyticsId:ue}),d.createElement(er,null))),!!m.creator&&!m.collection&&d.createElement(qn.h,{user:m.creator,refreshOnComplete:!0}))}var ur=function(e){var t,n,r=e.post,o=r.collection,i=r.content,l=o||r.creator,c=(0,Tt.GT)(l),s=(0,z.v)((function(e){return e.config.isAmp})),u=i.bodyModel&&i.bodyModel.paragraphs[0],m=u&&u.type===wt.NJ.IMG&&u.layout===wt.ms.FULL_WIDTH;if(l&&c)return d.createElement(Xn.xu,{marginBottom:m?"0":"36px",sm:{marginBottom:m?"0":"20px"}},d.createElement(hn.Go,{publisher:l,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),d.createElement(yn.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:l}));var p={behavior:_.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(o)return d.createElement(w.NL,a()({},p,{collection:o}));var g=r.layerCake,f=r.primaryTopic,h=g&&(1===g||2===g||3===g),y=h?f:null;return d.createElement(I.kw,a()({},p,{isMonogramOnly:!h,marginBottom:0,marginBottomSm:0,topic:y}))},mr=(0,m.Ps)(ir(),Qe.Xc,Fe,S.PI),dr=(0,m.Ps)(or(),Ve,w.JE,En.w,un,Bn,qe,I.v7,hn.aU,hn.Mv,Gt.bj,ke,Ze.Cs,gn.F9,Qe.Z3,bt,Rt,St.WZ,Wt,St.kH,Ht.uI,Gt.Pq,Ne,xn._3,Rn.QX,Rn.v,qn.k,Tt.C5,S.ir,Ye.ne,Vt.tA,P.Dc)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5801.a44fbe07.chunk.js.map